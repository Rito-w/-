<mxfile host="65bd71144e">
    <diagram id="activity-diagram" name="故障分析推理活动图">
        <mxGraphModel dx="1200" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                
                <!-- 标题 -->
                <mxCell id="title" value="基于RAG+CoT的变电设备故障分析推理流程图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#2E7D32;" parent="1" vertex="1">
                    <mxGeometry x="300" y="30" width="600" height="40" as="geometry"/>
                </mxCell>
                
                <!-- 泳道容器 -->
                <mxCell id="swimlane-container" value="参与者" style="swimlane;html=1;childLayout=stackLayout;resizeParent=1;resizeParentMax=0;horizontal=0;startSize=20;horizontalStack=0;whiteSpace=wrap;verticalAlign=middle;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="80" y="90" width="1040" height="750" as="geometry"/>
                </mxCell>
                
                <!-- 数据采集层 -->
                <mxCell id="data-lane" value="数据采集&#xa;Data Collection" style="swimlane;html=1;startSize=40;horizontal=0;fillColor=#e8f5e8;strokeColor=#4CAF50;fontSize=12;fontStyle=1;" parent="swimlane-container" vertex="1">
                    <mxGeometry x="20" width="1020" height="120" as="geometry"/>
                </mxCell>
                
                <!-- 开始节点 -->
                <mxCell id="start" value="" style="ellipse;fillColor=#4CAF50;strokeColor=#2E7D32;" parent="data-lane" vertex="1">
                    <mxGeometry x="30" y="45" width="30" height="30" as="geometry"/>
                </mxCell>
                
                <!-- 数据采集活动 -->
                <mxCell id="collect-data" value="多源数据采集&#xa;故障案例/运维数据/标准规程" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#4CAF50;fontSize=11;arcSize=10;" parent="data-lane" vertex="1">
                    <mxGeometry x="100" y="30" width="160" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 数据预处理 -->
                <mxCell id="preprocess" value="数据预处理&#xa;清洗/标准化/向量化" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#4CAF50;fontSize=11;arcSize=10;" parent="data-lane" vertex="1">
                    <mxGeometry x="300" y="30" width="140" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 知识构建 -->
                <mxCell id="build-knowledge" value="知识图谱构建&#xa;实体识别/关系抽取" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#4CAF50;fontSize=11;arcSize=10;" parent="data-lane" vertex="1">
                    <mxGeometry x="480" y="30" width="140" height="60" as="geometry"/>
                </mxCell>
                
                <!-- RAG推理层 -->
                <mxCell id="rag-lane" value="RAG推理&#xa;Retrieval-Augmented Generation" style="swimlane;html=1;startSize=40;horizontal=0;fillColor=#fff3e0;strokeColor=#FF9800;fontSize=12;fontStyle=1;" parent="swimlane-container" vertex="1">
                    <mxGeometry x="20" y="120" width="1020" height="180" as="geometry"/>
                </mxCell>
                
                <!-- 故障输入 -->
                <mxCell id="fault-input" value="故障现象输入&#xa;异常报警/监测数据" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#FF9800;fontSize=11;arcSize=10;" parent="rag-lane" vertex="1">
                    <mxGeometry x="30" y="60" width="140" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 语义检索 -->
                <mxCell id="semantic-search" value="语义检索&#xa;相似案例检索" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#FF9800;fontSize=11;arcSize=10;" parent="rag-lane" vertex="1">
                    <mxGeometry x="210" y="60" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 知识融合 -->
                <mxCell id="knowledge-fusion" value="知识融合&#xa;多源信息整合" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#FF9800;fontSize=11;arcSize=10;" parent="rag-lane" vertex="1">
                    <mxGeometry x="370" y="60" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 上下文构建 -->
                <mxCell id="context-build" value="上下文构建&#xa;推理背景准备" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#FF9800;fontSize=11;arcSize=10;" parent="rag-lane" vertex="1">
                    <mxGeometry x="530" y="60" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- CoT推理层 -->
                <mxCell id="cot-lane" value="CoT推理&#xa;Chain-of-Thought Reasoning" style="swimlane;html=1;startSize=40;horizontal=0;fillColor=#f3e5f5;strokeColor=#9C27B0;fontSize=12;fontStyle=1;" parent="swimlane-container" vertex="1">
                    <mxGeometry x="20" y="300" width="1020" height="200" as="geometry"/>
                </mxCell>
                
                <!-- 现象分析 -->
                <mxCell id="phenomenon-analysis" value="现象分析&#xa;故障特征识别" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#9C27B0;fontSize=11;arcSize=10;" parent="cot-lane" vertex="1">
                    <mxGeometry x="30" y="70" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 假设生成 -->
                <mxCell id="hypothesis-generation" value="假设生成&#xa;可能原因推测" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#9C27B0;fontSize=11;arcSize=10;" parent="cot-lane" vertex="1">
                    <mxGeometry x="190" y="70" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 逐项验证 -->
                <mxCell id="verification" value="逐项验证&#xa;假设验证分析" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#9C27B0;fontSize=11;arcSize=10;" parent="cot-lane" vertex="1">
                    <mxGeometry x="350" y="70" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 决策判断 -->
                <mxCell id="decision" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#9C27B0;fontSize=11;" parent="cot-lane" vertex="1">
                    <mxGeometry x="510" y="80" width="40" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="decision-label" value="需要更多&#xa;信息?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="cot-lane" vertex="1">
                    <mxGeometry x="500" y="125" width="60" height="30" as="geometry"/>
                </mxCell>
                
                <!-- 根因定位 -->
                <mxCell id="root-cause" value="根因定位&#xa;故障原因确定" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#9C27B0;fontSize=11;arcSize=10;" parent="cot-lane" vertex="1">
                    <mxGeometry x="600" y="70" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 策略生成层 -->
                <mxCell id="strategy-lane" value="策略生成&#xa;Strategy Generation" style="swimlane;html=1;startSize=40;horizontal=0;fillColor=#e3f2fd;strokeColor=#2196F3;fontSize=12;fontStyle=1;" parent="swimlane-container" vertex="1">
                    <mxGeometry x="20" y="500" width="1020" height="140" as="geometry"/>
                </mxCell>
                
                <!-- 检修策略生成 -->
                <mxCell id="repair-strategy" value="检修策略生成&#xa;基于规程和经验" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2196F3;fontSize=11;arcSize=10;" parent="strategy-lane" vertex="1">
                    <mxGeometry x="80" y="40" width="140" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 风险评估 -->
                <mxCell id="risk-assessment" value="风险评估&#xa;影响范围分析" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2196F3;fontSize=11;arcSize=10;" parent="strategy-lane" vertex="1">
                    <mxGeometry x="270" y="40" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 决策支持 -->
                <mxCell id="decision-support" value="决策支持&#xa;推荐方案输出" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2196F3;fontSize=11;arcSize=10;" parent="strategy-lane" vertex="1">
                    <mxGeometry x="430" y="40" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 输出层 -->
                <mxCell id="output-lane" value="输出结果&#xa;Output Results" style="swimlane;html=1;startSize=40;horizontal=0;fillColor=#ffebee;strokeColor=#F44336;fontSize=12;fontStyle=1;" parent="swimlane-container" vertex="1">
                    <mxGeometry x="20" y="640" width="1020" height="110" as="geometry"/>
                </mxCell>
                
                <!-- 分析报告 -->
                <mxCell id="analysis-report" value="故障分析报告&#xa;详细推理过程" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#F44336;fontSize=11;arcSize=10;" parent="output-lane" vertex="1">
                    <mxGeometry x="100" y="25" width="130" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 检修建议 -->
                <mxCell id="repair-advice" value="检修建议&#xa;具体操作方案" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#F44336;fontSize=11;arcSize=10;" parent="output-lane" vertex="1">
                    <mxGeometry x="270" y="25" width="120" height="60" as="geometry"/>
                </mxCell>
                
                <!-- 结束节点 -->
                <mxCell id="end" value="" style="ellipse;html=1;shape=endState;fillColor=#F44336;strokeColor=#D32F2F;" parent="output-lane" vertex="1">
                    <mxGeometry x="430" y="40" width="30" height="30" as="geometry"/>
                </mxCell>
                
                <!-- 流程连接线 -->
                <mxCell id="flow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4CAF50;" parent="1" source="start" target="collect-data" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4CAF50;" parent="1" source="collect-data" target="preprocess" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#4CAF50;" parent="1" source="preprocess" target="build-knowledge" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;" parent="1" source="build-knowledge" target="fault-input" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="630" y="150"/>
                            <mxPoint x="170" y="150"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                
                <mxCell id="flow5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;" parent="1" source="fault-input" target="semantic-search" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;" parent="1" source="semantic-search" target="knowledge-fusion" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;" parent="1" source="knowledge-fusion" target="context-build" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;" parent="1" source="context-build" target="phenomenon-analysis" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="650" y="330"/>
                            <mxPoint x="150" y="330"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                
                <mxCell id="flow9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;" parent="1" source="phenomenon-analysis" target="hypothesis-generation" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;" parent="1" source="hypothesis-generation" target="verification" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;" parent="1" source="verification" target="decision" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#9C27B0;" parent="1" source="decision" target="root-cause" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <!-- 回流箭头 -->
                <mxCell id="flow13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#9C27B0;dashed=1;" parent="1" source="decision" target="semantic-search" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="610" y="490"/>
                            <mxPoint x="330" y="490"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                
                <mxCell id="flow14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2196F3;" parent="1" source="root-cause" target="repair-strategy" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="740" y="520"/>
                            <mxPoint x="230" y="520"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                
                <mxCell id="flow15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2196F3;" parent="1" source="repair-strategy" target="risk-assessment" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2196F3;" parent="1" source="risk-assessment" target="decision-support" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F44336;" parent="1" source="decision-support" target="analysis-report" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="570" y="670"/>
                            <mxPoint x="245" y="670"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                
                <mxCell id="flow18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F44336;" parent="1" source="analysis-report" target="repair-advice" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <mxCell id="flow19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#F44336;" parent="1" source="repair-advice" target="end" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                
                <!-- 标签 -->
                <mxCell id="yes-label" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#9C27B0;" parent="1" vertex="1">
                    <mxGeometry x="580" y="470" width="20" height="15" as="geometry"/>
                </mxCell>
                
                <mxCell id="no-label" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#9C27B0;" parent="1" vertex="1">
                    <mxGeometry x="560" y="470" width="20" height="15" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>